function onLoad(e){hash=window.location.hash;if(hash==""){hash="#home"}hash=hash.slice(1,hash.length);$("div.content").each(function(){if(this.id!=hash){$(this).hide()}else{$(this).show()}});var b="#"+hash+" .background";$(b).each(function(){$(this).attr("src",$(this).attr("src").slice(0,-5)+"m.jpg")});if(hash=="gallery"){$(".gallery_thumb").each(function(){$(this).attr("src",$(this).attr("data-orig"))});var c=parseInt($(".col-width").css("width"));var d=parseInt($(".col-width").css("height"));var a=$(".pack");a.packery({columnWidth:c,rowHeight:d,stamp:".stamp"})}sizeElements();e()}function manageNavHighlights(b){$(".nav_link").each(function(){$(this).removeClass("active-nav")});var a=window.location.hash+"_link";if(typeof(b)!="undefined"){a="#"+b+"_link"}if(a=="_link"){a="#a"}$(document.getElementById(a.slice(1))).addClass("active-nav")}$(document).ready(function(){manageNavHighlights();var c=parseInt($(".col-width").css("width"));var d=parseInt($(".col-width").css("height"));var a;a=$("#gallery_packery1");var b=$(a.packery("getItemElements"));b=b.slice(0);b.draggable({start:function(e,f){$(this).addClass("noclick")}});a.packery("bindUIDraggableEvents",b);a=$("#gallery_packery2");b=$(a.packery("getItemElements"));b=b.slice(0);b.draggable({start:function(e,f){$(this).addClass("noclick")}});a.packery("bindUIDraggableEvents",b);a=$("#gallery_packery3");b=$(a.packery("getItemElements"));b=b.slice(0);b.draggable({start:function(e,f){$(this).addClass("noclick")}});a.packery("bindUIDraggableEvents",b);a=$("#gallery_packery4");b=$(a.packery("getItemElements"));b=b.slice(0);b.draggable({start:function(e,f){$(this).addClass("noclick")}});a.packery("bindUIDraggableEvents",b);$(".item img").click(function(e){if($(this).parent().hasClass("noclick")){$(this).parent().removeClass("noclick")}else{$("#image-viewer").modal("show")}});$(".gal_tag").click(function(){var g=$(this).attr("id").slice(0,-5);var h=$(document.getElementById(g)).offset();var f=$("#gallery_wrapper");var e=h.top+f.scrollTop();console.log(h.top,f.scrollTop());f.animate({scrollTop:e});if($(window).width()<768){$("#gallery #sidebar").animate({scrollLeft:$("#gallery #sidebar").scrollLeft()+$(this).offset().left-$(this).width()/2},300)}});$(".person_tag").click(function(){if(!($(this).hasClass("active-side"))){var g=$(document.getElementById($(this).attr("id")));var h=$(this).attr("id")+"_a";var f=$(this).attr("id")+"_bg";var e=$(document.getElementById(f));$(".person_tag").each(function(){if($(this).attr("id")!=g){$(this).addClass("active-side-whiting")}});g.addClass("active-side-changing");e.css("width","").css("height","");sizeBG(e.width()/e.height(),e);e.addClass("new-bg").addClass("bg-in",500,function(){$(".cast-bg").each(function(){if($(this).attr("id")!=f){$(this).removeClass("bg-in")}});e.removeClass("new-bg");$(".person_tag").each(function(){$(this).removeClass("active-side").removeClass("active-side-whiting")});g.removeClass("active-side-changing");g.addClass("active-side")});$(".actor").each(function(){if($(this).attr("id")==h){$(this).removeClass("a-fade").addClass("avisi",400)}else{var i=$(this);$(this).addClass("a-fade",400,function(){i.removeClass("avisi",400)})}})}if($(window).width()<768){$("#cast #sidebar").animate({scrollLeft:$("#cast #sidebar").scrollLeft()+$(this).offset().left-$(this).width()/2},300)}});$("#image-viewer").modal("hide").on("shown.bs.modal",function(){sizeElements()});window.onpopstate=function(f){try{var g=f.state.state;if(g==""){g="home"}if(g!="gallery"){$("#image-viewer").modal("hide")}switchPage(g)}catch(h){}};$("img.gallery_thumb").click(function(){var e=$(this).attr("src").slice(0,-10)+".jpg";$("#gallery_pic").attr("src",e);manageGalleryButtons()});$("#gallery-left").click(function(){var e=$("#gallery_pic");var g=e.attr("src");if(g.indexOf("_thumb")==-1){g=g.slice(0,-4)+"_thumb.jpg"}var f=$(document.getElementById(g)).prev().attr("id");e.attr("src",f.slice(0,-10)+".jpg");manageGalleryButtons()});$("#gallery-right").click(function(){var e=$("#gallery_pic");var g=e.attr("src");if(g.indexOf("_thumb")==-1){g=g.slice(0,-4)+"_thumb.jpg"}var f=$(document.getElementById(g)).next().attr("id");e.attr("src",f.slice(0,-10)+".jpg");manageGalleryButtons()});$("#gallery_pic").load(function(){sizeImageViewer()});$(".accordion-toggle").click(function(){$(".panel-heading").removeClass("crew-pic-hidden");if($(this).hasClass("collapsed")){$(this).parent().parent().addClass("crew-pic-hidden")}});$("#expand-button").click(function(){$("#navbar").toggleClass("navbar-up")});$(document).bind("click",function(f){$("#navbar").removeClass("navbar-up")});$("#navbar > ul > li").bind("click",function(f){f.stopPropagation()});$("a.nav_link").click(function(h){if(!($(h.target).hasClass("active-nav"))){if($(".nav-link-changing").length==0){$(h.target).addClass("nav-link-changing");$(".nav_link").each(function(){if(!($(this).hasClass("nav-link-changing"))){$(this).addClass("nav-link-whiting")}});var g=$(this).attr("id").slice(0,-5);if(!(g==window.location.hash.substring(1))){var e=window.location.hash.substring(1);if(e==""){e="home"}var f={state:e};history.replaceState(f,e);switchPage(g)}$("#navbar").removeClass("navbar-up")}else{h.preventDefault()}}})});$("#gallery_link").click(function(){$(".gallery_thumb").each(function(){$(this).attr("src",$(this).attr("data-orig"))});var b=$(".col-width");var c=parseInt(b.css("width"));var d=parseInt(b.css("height"));var a=$(".pack");a.packery({columnWidth:c,rowHeight:d,stamp:".stamp"})});function manageGalleryButtons(){var a=$("#gallery_pic");var c=$("#gallery-left .gallery-arrow");var b=$("#gallery-right .gallery-arrow");if(typeof($(document.getElementById(a.attr("src").slice(0,-4)+"_thumb.jpg")).prev().attr("id"))=="undefined"){c.css("display","none")}else{c.css("display","table")}if(typeof($(document.getElementById(a.attr("src").slice(0,-4)+"_thumb.jpg")).next().attr("id"))=="undefined"){b.css("display","none")}else{b.css("display","table")}}function sizeBG(b,f){var e=$(window).width()/$(window).height();if(e<b){var a=$(window).height();var d=$(window).height()*b;var c=(d-$(window).width())/-2;f.css("height",a).css("width",d).css("marginLeft",c).css("marginTop",0)}else{a=$(window).width()*(1/b);d=$(window).width();var g=(a-$(window).height())/-2;f.css("width",d).css("height",a).css("marginTop",g).css("marginLeft",0)}}var canBeCalled=true;function limitedSizeElements(){if(!canBeCalled){return}sizeElements();canBeCalled=false;setTimeout(function(){canBeCalled=true},80)}function sizeElements(){var f=$(window).width()/$(window).height();var d=$(".content:visible .background");if(d.length>1){d=$(".content:visible .bg-in")}d=d[0];$(d).css("width","").css("height","");var c=$(d).width()/$(d).height();if(f<c){var a=$(window).height();var e=$(window).height()*c;var g=(e-$(window).width())/-2;$("img.background").css("height",a).css("width",e).css("marginLeft",g).css("marginTop",0);var b=$("#main_background").height();$("#title_floater").css("height",b/2)}else{var a=$(window).width()*(1/c);var e=$(window).width();var g=(a-$(window).height())/-2;$("img.background").css("width",e).css("height",a).css("marginTop",g).css("marginLeft",0);var b=$("#main_background").height();$("#title_floater").css("height",b/2)}if($(window).width()<=767){$("#crew-title").css("font-size",($(window).width()-50)*100/262)}else{$("#crew-title").css("font-size",(($(window).height()-50)*200/263/2))}if($("#image-viewer").hasClass("in")){sizeImageViewer()}}function sizeImageViewer(){var c=$("#gallery_pic_wrapper");var d=c.width()/c.height();var a=$("#gallery_pic");a.css("width","").css("height","");var b=a.width()/a.height();if(b>d){a.css("width","100%");a.css("height",a.width()/b)}else{a.css("height","100%");a.css("width",a.height()*b)}}function switchPage(b){var a=$(document.getElementById(b));a.css("z-index","500").css("opacity",0).show(function(){if(a.attr("id")=="gallery"){var f=parseInt($(".col-width").css("width"));var g=parseInt($(".col-width").css("height"));var c=$(".pack");c.packery({columnWidth:f,rowHeight:g,stamp:".stamp"})}var e=a.children(".background");if(e.length>1){e=a.children(".bg-in")}e=e[0];$(e).css("width","").css("height","");var d=$(e).width()/$(e).height();sizeBG(d,$(e));animateOut(b,function(){a.fadeTo(500,1,function(){$("div.content").each(function(){id=$(this).attr("id");if(id!=b){$(this).hide()}});a.css("z-index","");manageNavHighlights(b);$(".nav_link").each(function(){$(this).removeClass("nav-link-whiting").removeClass("nav-link-changing")});animateIn(b)})})})}function animateOut(a,b){if(a!="home"){$("#title_wrapper").animate({opacity:0},300)}if(a!="cast"){$(".avisi").css("overflow","hidden").each(function(){var c=$(this);$.data(this,"css",{height:c.css("height"),paddingTop:c.css("paddingTop"),paddingBottom:c.css("paddingBottom"),bottom:c.css("bottom")});c.animate({bottom:160,height:0,paddingTop:0,paddingBottom:0},300)});$(".person_tag").each(function(d){var c=$(this);setTimeout(function(){c.animate({left:-400,opacity:0},300)},120*d)})}if(a!="crew"){$("#accordion").css("overflow","hidden").each(function(){var c=$(this);$.data(this,"css",{height:c.css("height")});c.animate({height:0,opacity:0},500)});$("#crew-title").animate({opacity:0},300)}if(a!="gallery"){$(".gal_tag").each(function(d){var c=$(this);setTimeout(function(){c.animate({left:-400,opacity:0},300)},120*d)});$(".stamp").each(function(){$(this).animate({opacity:0},300)});$(".gallery_thumb").each(function(){$(this).animate({opacity:0},300)})}if(a!="videos"){$(".temp").animate({opacity:0},300)}b()}function animateIn(a){if(a=="home"){$("#title_wrapper").animate({opacity:1},300)}if(a=="cast"){$(".avisi").each(function(){var c=$.data(this,"css");try{$(this).animate({bottom:c.bottom,height:c.height,paddingTop:c.paddingTop,paddingBottom:c.paddingBottom},300,function(){$(".avisi").css("overflow","auto").css("bottom","").css("height","").css("padding","")})}catch(b){$(".avisi").css("overflow","auto").css("bottom","").css("height","").css("padding","")}});$(".person_tag").each(function(c){var b=$(this);setTimeout(function(){b.animate({left:0,opacity:1},300)},120*c)})}if(a=="crew"){$("#accordion").each(function(){var c=$.data(this,"css");try{$(this).animate({height:c.height,opacity:1},500,function(){$("#accordion").css("overflow","").css("height","")})}catch(b){$("#accordion").css("overflow","").css("height","")}});$("#crew-title").animate({opacity:1},300)}if(a=="gallery"){$(".gal_tag").each(function(c){var b=$(this);setTimeout(function(){b.animate({left:0,opacity:1},300)},120*c)});$(".stamp").each(function(){$(this).animate({opacity:1},300)});$(".gallery_thumb").each(function(){$(this).animate({opacity:1},300)})}if(a=="videos"){$(".temp").animate({opacity:1},300)}};